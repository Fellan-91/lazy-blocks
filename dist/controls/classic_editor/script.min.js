!function(){"use strict";var e={6128:function(e,t,o){function n(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.d(t,{Z:function(){return u}});const{wp:c}=window,{Component:s}=c.element,{__:a}=c.i18n,{BACKSPACE:d,DELETE:l,F10:p}=c.keycodes;class u extends s{constructor(e){super(e),this.initialize=this.initialize.bind(this),this.onSetup=this.onSetup.bind(this),this.focus=this.focus.bind(this)}componentDidMount(){const{baseURL:e,suffix:t}=window.wpEditorL10n?window.wpEditorL10n.tinymce:window.tinymce;window.tinymce.EditorManager.overrideDefaults({base_url:e,suffix:t}),"complete"===document.readyState?this.initialize():document.addEventListener("readystatechange",this.initialize)}componentDidUpdate(e){const{content:t,onChange:o}=this.props;e.content!==t&&o(t||"")}componentWillUnmount(){document.removeEventListener("readystatechange",this.initialize),c.oldEditor.remove("editor-".concat(this.props.editorId))}onSetup(e){const{content:t,onChange:o}=this.props,{ref:n}=this;let i;this.editor=e,t&&e.on("loadContent",(()=>e.setContent(t))),e.on("blur",(()=>(i=e.selection.getBookmark(2,!0),o(e.getContent()),e.once("focus",(()=>{i&&e.selection.moveToBookmark(i)})),!1))),e.on("change",(()=>{o(e.getContent())})),e.on("mousedown touchstart",(()=>{i=null})),e.on("keydown",(t=>{t.keyCode!==d&&t.keyCode!==l||!function(e){const t=e.getBody();return!(1<t.childNodes.length)&&(0===t.childNodes.length||!(1<t.childNodes[0].childNodes.length)&&/^\n?$/.test(t.innerText||t.textContent))}(e)||(this.props.onReplace([]),t.preventDefault(),t.stopImmediatePropagation());const{altKey:o}=t;o&&t.keyCode===p&&t.stopPropagation()})),e.on("init",(()=>{e.settings.toolbar1&&-1===e.settings.toolbar1.indexOf("kitchensink")&&e.dom.addClass(n,"has-advanced-toolbar")})),e.addButton("wp_add_media",{tooltip:a("Insert Media","lazy-blocks"),icon:"dashicon dashicons-admin-media",cmd:"WP_Medialib"}),e.on("init",(()=>{const e=this.editor.getBody();document.activeElement===e&&(e.blur(),this.editor.focus())}))}onToolbarKeyDown(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}focus(){this.editor&&this.editor.focus()}initialize(){const{editorId:e}=this.props,{settings:t}=window.wpEditorL10n?window.wpEditorL10n.tinymce:window.tinymce;c.oldEditor.initialize("editor-".concat(e),{tinymce:i(i({},t),{},{inline:!0,content_css:!1,fixed_toolbar_container:"#toolbar-".concat(e),setup:this.onSetup})})}render(){const{editorId:e}=this.props;return[c.element.createElement("div",{key:"toolbar",id:"toolbar-".concat(e),ref:e=>{this.ref=e},className:"block-library-classic__toolbar",onClick:this.focus,"data-placeholder":a("Classic","lazy-blocks"),onKeyDown:this.onToolbarKeyDown}),c.element.createElement("div",{key:"editor",id:"editor-".concat(e),className:"block-library-rich-text__tinymce"})]}}}},t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,o),r.exports}o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e=o(6128);const{addFilter:t}=wp.hooks,{BaseControl:n}=wp.components;t("lzb.editor.control.classic_editor.render","lzb.editor",((t,o,i)=>wp.element.createElement(n,{key:o.data.name,label:o.data.label,help:o.data.help,className:"lzb-gutenberg-classic-editor"},wp.element.createElement(e.Z,{content:o.getValue(),onChange:e=>{o.onChange(e)},editorId:o.placement+i.clientId+o.uniqueId+(o.childIndex||0)}))))}()}();