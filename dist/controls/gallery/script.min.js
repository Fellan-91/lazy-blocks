!function(){"use strict";var e={2962:function(e,t){const{__:l}=wp.i18n,{BaseControl:a,Button:i,DropZone:r,withNotices:n}=wp.components,{MediaPlaceholder:o,MediaUpload:s}=wp.blockEditor,{useSelect:c}=wp.data,d=["image"];t.Z=n((function(e){const{label:t,value:n,previewSize:m,help:p,noticeOperations:u,noticeUI:g,onChange:w=(()=>{})}=e,{mediaUpload:b,imagesPreviewData:y}=c((e=>{const{getMedia:t}=e("core"),l={};return n&&Object.keys(n).length&&n.forEach((e=>{if(!l[e.id]){const a=t(e.id)||!1;a&&(l[e.id]={alt:a.alt_text,url:a.source_url},a.media_details&&a.media_details.sizes&&a.media_details.sizes[m]&&(l[e.id].url=a.media_details.sizes[m].source_url))}})),{mediaUpload:e("core/block-editor").getSettings().mediaUpload,imagesPreviewData:l}}));return wp.element.createElement(a,{label:t,help:p},wp.element.createElement("div",{className:"lzb-gutenberg-gallery-wrap"},n&&Object.keys(n).length?"":wp.element.createElement(o,{icon:"format-gallery",labels:{title:t,name:l("images","lazy-blocks")},onSelect:e=>{w(e)},notices:g,accept:"image/*",allowedTypes:d,disableMaxUploadErrorMessages:!0,multiple:!0,onError:e=>function(e){u.removeAllNotices(),u.createErrorNotice(e)}(e)}),n&&Object.keys(n).length?wp.element.createElement(s,{onSelect:e=>{w(e)},allowedTypes:d,multiple:!0,gallery:!0,value:n.map((e=>e.id)),render:e=>{let{open:t}=e;return wp.element.createElement("div",{className:"lzb-gutenberg-gallery",onClick:t,role:"presentation"},wp.element.createElement(r,{onFilesDrop:e=>{const t=n||[];b({allowedTypes:d,filesList:e,onFileChange:e=>{w(t.concat(e))},onError:e=>{u.createErrorNotice(e)}})}}),wp.element.createElement("div",{className:"lzb-gutenberg-gallery-button"},wp.element.createElement(i,{isSecondary:!0,isSmall:!0},l("Edit Gallery","lazy-blocks"))),n.map((e=>wp.element.createElement("div",{className:"lzb-gutenberg-gallery-item",key:e.id||e.url},y[e.id]&&y[e.id].url?wp.element.createElement("img",{src:y[e.id].url,alt:y[e.id].alt}):""))))}}):""))}))}},t={};function l(a){var i=t[a];if(void 0!==i)return i.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,l),r.exports}!function(){var e=l(2962);const{addFilter:t}=wp.hooks,{__:a}=wp.i18n,{PanelBody:i,SelectControl:r}=wp.components,{useSelect:n}=wp.data;function o(e){const{updateData:t,data:l}=e,{imageSizes:o,imageDimensions:s}=n((e=>{const{getSettings:t}=e("core/block-editor"),l=t();return{imageSizes:l.imageSizes||[{name:a("Medium","lazy-blocks"),slug:"medium"}],imageDimensions:l.imageDimensions||{medium:{width:300,height:300}}}}));return wp.element.createElement(i,null,wp.element.createElement(r,{label:a("Preview Size","lazy-blocks"),options:o.map((e=>{let t=e.name;return s[e.slug]&&(t+=" (".concat(s[e.slug].width," Ã— ").concat(s[e.slug].height,")")),{label:t,value:e.slug}})),value:l.preview_size||"medium",onChange:e=>t({preview_size:e})}))}t("lzb.editor.control.gallery.render","lzb.editor",((t,l)=>wp.element.createElement(e.Z,{label:l.data.label,help:l.data.help,previewSize:l.data.preview_size,value:l.getValue(),onChange:e=>{const t=e.map((e=>({alt:e.alt||"",title:e.title||"",caption:e.caption||"",description:e.description||"",id:e.id||"",link:e.link||"",url:e.url||"",sizes:e.sizes||""})));l.onChange(t)}}))),t("lzb.editor.control.gallery.getValue","lzb.editor",(e=>{if("string"==typeof e)try{e=JSON.parse(decodeURI(e))}catch(t){e=[]}return e})),t("lzb.editor.control.gallery.updateValue","lzb.editor",(e=>(("object"==typeof e||Array.isArray(e))&&(e=encodeURI(JSON.stringify(e))),e))),t("lzb.constructor.control.gallery.settings","lzb.constructor",((e,t)=>wp.element.createElement(o,t)))}()}();