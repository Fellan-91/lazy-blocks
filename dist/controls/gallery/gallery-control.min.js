!function(){"use strict";const{__:e}=wp.i18n,{BaseControl:l,Button:t,DropZone:a,withNotices:r}=wp.components,{MediaPlaceholder:i,MediaUpload:n}=wp.blockEditor,{useSelect:o}=wp.data,s=["image"];r((function(r){const{label:c,value:m,previewSize:d,help:p,noticeOperations:g,noticeUI:u,onChange:w=(()=>{})}=r,{mediaUpload:b,imagesPreviewData:E}=o((e=>{const{getMedia:l}=e("core"),t={};return m&&Object.keys(m).length&&m.forEach((e=>{if(!t[e.id]){const a=l(e.id)||!1;a&&(t[e.id]={alt:a.alt_text,url:a.source_url},a.media_details&&a.media_details.sizes&&a.media_details.sizes[d]&&(t[e.id].url=a.media_details.sizes[d].source_url))}})),{mediaUpload:e("core/block-editor").getSettings().mediaUpload,imagesPreviewData:t}}));return wp.element.createElement(l,{label:c,help:p},wp.element.createElement("div",{className:"lzb-gutenberg-gallery-wrap"},m&&Object.keys(m).length?"":wp.element.createElement(i,{icon:"format-gallery",labels:{title:c,name:e("images","lazy-blocks")},onSelect:e=>{w(e)},notices:u,accept:"image/*",allowedTypes:s,disableMaxUploadErrorMessages:!0,multiple:!0,onError:e=>function(e){g.removeAllNotices(),g.createErrorNotice(e)}(e)}),m&&Object.keys(m).length?wp.element.createElement(n,{onSelect:e=>{w(e)},allowedTypes:s,multiple:!0,gallery:!0,value:m.map((e=>e.id)),render:l=>{let{open:r}=l;return wp.element.createElement("div",{className:"lzb-gutenberg-gallery",onClick:r,role:"presentation"},wp.element.createElement(a,{onFilesDrop:e=>{const l=m||[];b({allowedTypes:s,filesList:e,onFileChange:e=>{w(l.concat(e))},onError:e=>{g.createErrorNotice(e)}})}}),wp.element.createElement("div",{className:"lzb-gutenberg-gallery-button"},wp.element.createElement(t,{isSecondary:!0,isSmall:!0},e("Edit Gallery","lazy-blocks"))),m.map((e=>wp.element.createElement("div",{className:"lzb-gutenberg-gallery-item",key:e.id||e.url},E[e.id]&&E[e.id].url?wp.element.createElement("img",{src:E[e.id].url,alt:E[e.id].alt}):""))))}}):""))}))}();