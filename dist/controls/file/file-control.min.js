!function(){"use strict";const{__:e}=wp.i18n,{BaseControl:t,Button:l,DropZone:n,withNotices:a}=wp.components,{MediaPlaceholder:o}=wp.blockEditor,{useSelect:i}=wp.data,{allowed_mime_types:c}=window.lazyblocksConstructorData||window.lazyblocksGutenberg;a((function(a){const{label:r,value:s,help:m,allowedMimeTypes:p,noticeOperations:d,noticeUI:b,onChange:w=(()=>{})}=a,{mediaUpload:g}=i((e=>({mediaUpload:e("core/block-editor").getSettings().mediaUpload}))),u=[];return p&&p.length?p.forEach((e=>{c[e]&&u.push(c[e])})):Object.keys(c).forEach((e=>{u.push(c[e])})),wp.element.createElement(t,{label:r,help:m},wp.element.createElement("div",{className:"lzb-gutenberg-file-wrap"},s&&Object.keys(s).length?"":wp.element.createElement(o,{icon:"media-default",labels:{title:r,name:e("file","lazy-blocks")},onSelect:e=>{w(e)},notices:b,allowedTypes:u,disableMaxUploadErrorMessages:!0,onError:e=>function(e){d.removeAllNotices(),d.createErrorNotice(e)}(e)}),s&&Object.keys(s).length?wp.element.createElement("div",{className:"lzb-gutenberg-file"},wp.element.createElement(n,{onFilesDrop:e=>{g({allowedTypes:u,filesList:e,onFileChange:e=>{w(e[0])},onError:e=>{d.createErrorNotice(e)}})}}),wp.element.createElement("div",{className:"lzb-gutenberg-file-item",key:s.id||s.url},wp.element.createElement("div",{className:"lzb-gutenberg-file-item-icon"},wp.element.createElement("span",{className:"dashicons dashicons-media-default"})),wp.element.createElement("div",{className:"lzb-gutenberg-file-item-content"},wp.element.createElement("div",{className:"lzb-gutenberg-file-item-content-title"},s.title),wp.element.createElement("div",{className:"lzb-gutenberg-file-item-content-filename"},s.url.replace(/^.*[\\/]/,"")))),wp.element.createElement("div",{className:"lzb-gutenberg-file-button"},wp.element.createElement(l,{isSecondary:!0,isSmall:!0,onClick:()=>{w("")}},e("Remove File","lazy-blocks")))):""))}))}();