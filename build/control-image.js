(()=>{var e={1991:(e,t)=>{var a;!function(){"use strict";var r=function(){function e(){}function t(e,t){for(var a=t.length,r=0;r<a;++r)n(e,t[r])}e.prototype=Object.create(null);var a={}.hasOwnProperty,r=/\s+/;function n(e,n){if(n){var o=typeof n;"string"===o?function(e,t){for(var a=t.split(r),n=a.length,o=0;o<n;++o)e[a[o]]=!0}(e,n):Array.isArray(n)?t(e,n):"object"===o?function(e,t){if(t.toString===Object.prototype.toString||t.toString.toString().includes("[native code]"))for(var r in t)a.call(t,r)&&(e[r]=!!t[r]);else e[t.toString()]=!0}(e,n):"number"===o&&function(e,t){e[t]=!0}(e,n)}}return function(){for(var a=arguments.length,r=Array(a),n=0;n<a;n++)r[n]=arguments[n];var o=new e;t(o,r);var l=[];for(var i in o)o[i]&&l.push(i);return l.join(" ")}}();e.exports?(r.default=r,e.exports=r):void 0===(a=function(){return r}.apply(t,[]))||(e.exports=a)}()}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,a),o.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.element,t=window.wp.i18n,r=window.wp.hooks,n=window.wp.data,o=window.wp.components;function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l.apply(this,arguments)}var i=a(1991),s=a.n(i);function c(t){const{label:a,help:r,className:n,children:o,...i}=t;return(0,e.createElement)("div",l({},i,{className:s()("lazyblocks-component-base-control",n)}),a?(0,e.createElement)("div",{className:"lazyblocks-component-base-control__label"},a):null,o,r?(0,e.createElement)("div",{className:"lazyblocks-component-base-control__help"},r):null)}const{controls:d={}}=window.lazyblocksConstructorData||window.lazyblocksGutenberg;const u=window.wp.blockEditor,m=["image"],g=(0,o.withNotices)((function(a){const{label:r,value:l,previewSize:i,help:s,noticeOperations:c,noticeUI:d,onChange:g=(()=>{})}=a,{mediaUpload:p,imagePreviewData:b}=(0,n.useSelect)((e=>{const{getMedia:t}=e("core");let a=!1;if(l&&Object.keys(l).length&&l.id){const e=t(l.id)||!1;e&&(a={alt:e.alt_text,url:e.source_url},e.media_details&&e.media_details.sizes&&e.media_details.sizes[i]&&(a.url=e.media_details.sizes[i].source_url))}return{mediaUpload:e("core/block-editor").getSettings().mediaUpload,imagePreviewData:a}}));return(0,e.createElement)(o.BaseControl,{id:r,label:r,help:s},(0,e.createElement)("div",{className:"lzb-gutenberg-image-wrap"},l&&Object.keys(l).length?"":(0,e.createElement)(u.MediaPlaceholder,{icon:"format-image",labels:{title:r,name:(0,t.__)("image","lazy-blocks")},onSelect:e=>{g(e)},notices:d,accept:"image/*",allowedTypes:m,disableMaxUploadErrorMessages:!0,onError:e=>function(e){c.removeAllNotices(),c.createErrorNotice(e)}(e)}),l&&Object.keys(l).length?(0,e.createElement)("div",{className:"lzb-gutenberg-image"},(0,e.createElement)(o.DropZone,{onFilesDrop:e=>{p({allowedTypes:m,filesList:e,onFileChange:e=>{g(e[0])},onError:e=>{c.createErrorNotice(e)}})}}),(0,e.createElement)("div",{className:"lzb-gutenberg-image-button"},(0,e.createElement)(o.Button,{isSecondary:!0,isSmall:!0,onClick:()=>{g("")}},(0,t.__)("Remove Image","lazy-blocks"))),(0,e.createElement)("div",{className:"lzb-gutenberg-image-item",key:l.id||l.url},b.url?(0,e.createElement)("img",{src:b.url,alt:b.alt}):"")):""))}));function p(a){const{updateData:r,data:l}=a,{imageSizes:i,imageDimensions:s}=(0,n.useSelect)((e=>{const{getSettings:a}=e("core/block-editor"),r=a();return{imageSizes:r.imageSizes||[{name:(0,t.__)("Medium","lazy-blocks"),slug:"medium"}],imageDimensions:r.imageDimensions||{medium:{width:300,height:300}}}}));return(0,e.createElement)(o.PanelBody,null,(0,e.createElement)(o.SelectControl,{label:(0,t.__)("Preview Size","lazy-blocks"),options:i.map((e=>{let t=e.name;return s[e.slug]&&(t+=` (${s[e.slug].width} Ã— ${s[e.slug].height})`),{label:t,value:e.slug}})),value:l.preview_size||"medium",onChange:e=>r({preview_size:e})}))}(0,r.addFilter)("lzb.editor.control.image.render","lzb.editor",((t,a)=>(0,e.createElement)(c,function(e,{className:t,...a}={}){const r=(n=e.data.type)&&d[n]?d[n]:!!d.undefined&&d.undefined;var n;return{label:!!r.restrictions.label_settings&&e.data.label,help:!!r.restrictions.help_settings&&e.data.help,className:s()(`lazyblocks-control lazyblocks-control-${e.data.type}`,t),"data-lazyblocks-control-name":e.data.name,...a}}(a),(0,e.createElement)(g,{previewSize:a.data.preview_size,value:a.getValue(),onChange:e=>{const t=e?{alt:e.alt||"",title:e.title||"",caption:e.caption||"",description:e.description||"",id:e.id||"",link:e.link||"",url:e.url||"",sizes:e.sizes||""}:"";a.onChange(t)}})))),(0,r.addFilter)("lzb.editor.control.image.getValue","lzb.editor",(e=>{if("string"==typeof e)try{e=JSON.parse(decodeURI(e))}catch(t){e=[]}return e})),(0,r.addFilter)("lzb.editor.control.image.updateValue","lzb.editor",(e=>(("object"==typeof e||Array.isArray(e))&&(e=encodeURI(JSON.stringify(e))),e))),(0,r.addFilter)("lzb.constructor.control.image.settings","lzb.constructor",((t,a)=>(0,e.createElement)(p,a)))})()})();